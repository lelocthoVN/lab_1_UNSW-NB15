# UNSW-NB15 Anomaly Detection Configuration

# Данные и пути
data:
  train_csv: "data/UNSW_NB15_training-set.csv"
  test_csv: "data/UNSW_NB15_testing-set.csv"

paths:
  artifacts_dir: "artifacts"
  logs_dir: "logs"
  models_dir: "artifacts/models"
  reports_dir: "artifacts/reports"
  eda_dir: "artifacts/eda"

# Признаки датасета UNSW-NB15
features:
  # Основные сетевые признаки
  network_basic: ["dur", "sbytes", "dbytes", "sttl", "dttl"]
  # TCP/UDP признаки
  transport: ["spkts", "dpkts", "swin", "dwin", "tcprtt", "synack", "ackdat"]
  # Статистические признаки
  statistical: ["sload", "dload", "sloss", "dloss", "sjit", "djit"]
  # Контекстные признаки
  contextual:
    ["ct_state_ttl", "ct_srv_src", "ct_srv_dst", "ct_dst_ltm", "ct_src_ltm"]
  # Дополнительные признаки
  additional: ["smeansz", "dmeansz", "trans_depth", "res_bdy_len"]
  # Категориальные признаки (требуют кодирования)
  categorical: ["proto", "service", "state"]
  # Исключить из обучения
  exclude: ["id", "attack_cat", "label"]

# Параметры моделей
models:
  isolation_forest:
    n_estimators: 200
    contamination: 0.1
    max_samples: "auto"
    max_features: 1.0
    random_state: 42
    n_jobs: -1

  lof:
    n_neighbors: 20
    contamination: 0.1
    novelty: true
    metric: "minkowski"
    p: 2

  one_class_svm:
    kernel: "rbf"
    gamma: "scale"
    nu: 0.1
    degree: 3
    coef0: 0.0

# Параметры обучения
training:
  test_size: 0.2
  random_state: 42
  cv_folds: 3
  contamination_range: [0.05, 0.1, 0.15, 0.2]
  hyperparameter_tuning: true

# EDA параметры
eda:
  sample_size: 50000 # для ускорения EDA на больших данных
  plot_style: "seaborn-v0_8"
  figure_size: [12, 8]
  correlation_threshold: 0.8
  outlier_method: "IQR" # IQR или Z-score

# Preprocessing
preprocessing:
  handle_missing: "drop" # drop rows with missing values
  handle_outlier: "drop" # drop outliers
  scaling_method: "standard" # standard scaling method
  feature_selection: true
  n_features_select: 30

# Evaluation
evaluation:
  metrics: ["precision", "recall"]
  threshold_method: "contamination" # contamination или percentile
  save_predictions: true
  confusion_matrix: true

# Логирование
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file_enabled: true
  console_enabled: true

# Визуализация
visualization:
  save_plots: true
  plot_format: "png"
  dpi: 300
  interactive: false
